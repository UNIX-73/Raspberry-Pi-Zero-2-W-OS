# .clangd en la raíz

QueryDriver:
  - /usr/bin/aarch64-none-elf-*

CompileFlags:
  # Quita flags que a veces molestan a clangd (ajusta si los ves en compile_commands.json)
  Remove: ["-mabi=lp64"]

  # Flags por defecto cuando abre archivos "sueltos" (p. ej. .tpp)
  Add: [
    "-xc++-header",
    "-std=c++20",
    "-target", "aarch64-none-elf",
    "-mcpu=cortex-a53",
    "-march=armv8-a",
    "-ffreestanding",
    "-fno-exceptions",
    "-fno-rtti",
    "-fno-threadsafe-statics",
    "-nostdlib",
    "-nostartfiles",
    "-Iinclude",

    # === RUTAS DE LA STL DEL CROSS-GCC ===
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1",
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1/aarch64-none-elf",
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1/backward",
    "-isystem", "/usr/lib/gcc/aarch64-none-elf/14.2.1/include-fixed",
    "-isystem", "/usr/aarch64-none-elf/include"
  ]

# Reglas extra para archivos de implementación de templates
If:
  PathMatch: ".*\\.(tpp|ipp|inl)$"
CompileFlags:
  Add: ["-xc++-header", "-std=c++20"]
