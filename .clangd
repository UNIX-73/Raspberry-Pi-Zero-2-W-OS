# .clangd (limpio)

CompileFlags:
  # quita el flag problemático que viene de compile_commands.json
  Remove: ["-mabi=lp64"]

  # flags por defecto para archivos sin entrada en compile_commands.json
  Add: [
    "-std=c++20",
    "-target", "aarch64-none-elf",
    "-mcpu=cortex-a53",
    "-march=armv8-a",
    "-ffreestanding",
    "-fno-exceptions",
    "-fno-rtti",
    "-fno-threadsafe-statics",
    "-Iinclude",

    # Rutas de la STL del cross
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1",
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1/aarch64-none-elf",
    "-isystem", "/usr/aarch64-none-elf/include/c++/14.2.1/backward",
    "-isystem", "/usr/lib/gcc/aarch64-none-elf/14.2.1/include-fixed",
    "-isystem", "/usr/aarch64-none-elf/include"
  ]

---
# Reglas extra para templates de implementación
If:
  PathMatch: ".*\\.(tpp|ipp|inl|tcc)$"
CompileFlags:
  Add: ["-xc++-header"]
